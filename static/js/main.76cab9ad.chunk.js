(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,a){e.exports=a(192)},119:function(e,t,a){},192:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),s=a.n(l),c=a(16),i=a(36),o=a(18),u=a(52),m=[{id:0,tableName:"example",tasks:[{task_id:0,task_short:"lorem",task_full:"lorem ipsum lorem ipsum lorem ipsum",time_created:null,time_changed:null},{task_id:1,task_short:"andsf",task_full:"lorem ipsum tes tes est",time_created:null,time_changed:null}]},{id:2,tableName:"example",tasks:[{task_id:0,task_short:"jsdasda",task_full:"lorem ipsum lorem ipsum lorem ipsum",time_created:null,time_changed:null},{task_id:1,task_short:"andsf",task_full:"lorem ipsum tes tes est",time_created:null,time_changed:null}]}],d=Object(i.b)({table:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"ADD_TABLE":return Object(u.a)(e).concat([n]);case"DELL_TABLE":return e.filter(function(e){return e.id!==n});case"CHANGE_TITLE":return e.map(function(e){return e.id===n.id?e.tableName=n.val:e}),Object(u.a)(e);case"ADD_TASK":return e.map(function(e){return e.id===n.id?Object(o.a)({},e,{tasks:Object(u.a)(e.tasks).concat([n.t])}):e});case"CHANGE_TASK":return e.map(function(e){return e.id===n.parentId?Object(o.a)({},e,{tasks:e.tasks.map(function(e){return e.task_id===n.ownId?Object(o.a)({},e,n.update):e})}):e});case"DELL_TASK":return e.map(function(e){return e.id===n.parID?Object(o.a)({},e,{tasks:e.tasks.filter(function(e){return e.task_id!==n.ownID})}):e});default:return e}}}),p=(a(119),a(10)),h=a(11),b=a(13),k=a(12),f=a(14),v=a(193),O=(a(121),a(44)),j=a.n(O),E=a(194),_=a(68);var y=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(b.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).handlerCreateTable=function(){var e={id:j()(),tableName:"default",tasks:[]};a.props.createTable(e)},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{lg:24},r.a.createElement(_.a,{className:"add-table_btn w-btn",onClick:this.handlerCreateTable},"Create table"))}}]),t}(n.Component),g={createTable:function(e){return{type:"ADD_TABLE",payload:e}}},T=Object(c.b)(null,g)(y),w=a(195),I=a(35),C=a(197),S=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(b.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={sw:!1,inputVal:"default"},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"handleToInput",value:function(){this.setState({sw:!this.state.sw})}},{key:"handleToText",value:function(e){this.setState({sw:!this.state.sw});var t={val:this.state.inputVal,id:e};this.props.changeTit(t)}},{key:"changeTitle",value:function(e){this.setState({inputVal:e.target.value})}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.ind,l=this.state,s=l.sw,c=l.inputVal;return r.a.createElement(r.a.Fragment,null,s?r.a.createElement(N,{val:c,toTxt:function(){return e.handleToText(n)},change:this.changeTitle.bind(this)}):r.a.createElement(D,{name:a,toInpt:function(){return e.handleToInput()}}))}}]),t}(n.Component),D=function(e){var t=e.name,a=e.toInpt;return r.a.createElement("span",null,t,r.a.createElement(I.a,{onClick:a,style:{cursor:"pointer"},type:"edit",theme:"twoTone"}))},N=function(e){var t=e.val,a=e.toTxt,n=e.change;return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{type:"text",value:t,placeholder:"change title...",onChange:n}),r.a.createElement(_.a,{onClick:a},"ok"))},A={changeTit:function(e){return{type:"CHANGE_TITLE",payload:e}}},x=Object(c.b)(null,A)(S),L=function(e){function t(){return Object(p.a)(this,t),Object(b.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"handleDelTask",value:function(){var e=this.props,t=e.parentIndex,a=e.ownIndex;this.props.delTask(t,a)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(I.a,{className:"hover",type:"close-square",theme:"twoTone",onClick:this.handleDelTask.bind(this)}))}}]),t}(n.Component),M={delTask:function(e,t){return console.log("del action ".concat(e," and ").concat(t)),{type:"DELL_TASK",payload:{parID:e,ownID:t}}}},F=Object(c.b)(null,M)(L),Z=a(21),H=a(196),K=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(b.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1,parentId:null,task:{}},a.showModal=function(){return a.setState({visible:!0})},a.theTime=function(){var e=new Date,t=a.addZero(e.getHours()),n=a.addZero(e.getMinutes()),r=a.addZero(e.getSeconds());return"".concat(t,": ").concat(n,": ").concat(r)},a.handleInput=function(e){var t;new Date;a.setState({task:Object(o.a)({},a.state.task,(t={},Object(Z.a)(t,e.target.name,e.target.value),Object(Z.a)(t,"time_changed",a.theTime()),t))})},a.onSubmit=function(e){e.preventDefault();var t=a.state.task,n=a.props,r=n.ownIndex,l=n.parentIndex;a.props.changeTask(t,r,l),a.setState({visible:!1})},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"cancelClose",value:function(){this.setState({visible:!1})}},{key:"addZero",value:function(e){return e<10&&(e="0"+e),e}},{key:"componentDidMount",value:function(){var e=this.props.task;this.setState({task:Object(o.a)({},this.state.task,{task_short:e.task_short,task_full:e.task_full,time_created:e.time_created,task_id:e.task_id})})}},{key:"render",value:function(){var e=C.a.TextArea,t=this.state.task;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"hover",type:"primary",onClick:this.showModal},r.a.createElement(I.a,{type:"edit",theme:"twoTone"})),r.a.createElement(H.a,{footer:null,closable:!1,visible:this.state.visible},r.a.createElement("form",{onSubmit:this.onSubmit,className:"form"},r.a.createElement(C.a,{placeholder:"excerpt",name:"task_short",value:t.task_short,onChange:this.handleInput}),r.a.createElement(e,{placeholder:"complete...",name:"task_full",value:t.task_full,onChange:this.handleInput}),r.a.createElement(C.a,{type:"submit",value:"ok"}),r.a.createElement(_.a,{className:"w-btn",onClick:this.cancelClose.bind(this),type:"danger"},"Cancel"))))}}]),t}(n.Component),B={changeTask:function(e,t,a){return{type:"CHANGE_TASK",payload:{update:e,ownId:t,parentId:a}}}},G=Object(c.b)(null,B)(K),J=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(b.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.showModal=function(){a.setState({visible:!0})},a.handleOk=function(e){console.log(e),a.setState({visible:!1})},a.handleCancel=function(e){console.log(e),a.setState({visible:!1})},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.task,a=e.parentIndex,n=e.parentName;return r.a.createElement("div",null,r.a.createElement("span",{className:"hover",type:"primary",onClick:this.showModal},r.a.createElement(I.a,{type:"eye",theme:"twoTone"})),r.a.createElement(H.a,{title:n,visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel},r.a.createElement("b",null,"short"),r.a.createElement("p",null,t.task_short),r.a.createElement("b",null,"full"),r.a.createElement("p",null,t.task_full),r.a.createElement("p",null," created: ",t.time_created," "),null!=t.time_changed?"updated: ".concat(t.time_changed):null,r.a.createElement(F,{parentIndex:a,ownIndex:t.task_id})))}}]),t}(n.Component),V=function(e){function t(){return Object(p.a)(this,t),Object(b.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.parentID,a=e.parentName,n=e.task.map(function(e){return r.a.createElement("div",{className:"task_item",key:e.task_id},e.task_short,r.a.createElement("span",{className:"task_item__btns"},r.a.createElement(J,{parentName:a,parentIndex:t,task:e}),r.a.createElement(G,{task:e,parentIndex:t,ownIndex:e.task_id}),r.a.createElement(F,{parentIndex:t,ownIndex:e.task_id})))});return r.a.createElement(r.a.Fragment,null,n)}}]),t}(n.Component),q=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(b.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1,parentId:null,task:{}},a.showModal=function(){return a.setState({visible:!0})},a.theTime=function(){var e=new Date,t=a.addZero(e.getHours()),n=a.addZero(e.getMinutes()),r=a.addZero(e.getSeconds());return"".concat(t,": ").concat(n,": ").concat(r)},a.handleInput=function(e){var t;a.setState({task:Object(o.a)({},a.state.task,(t={},Object(Z.a)(t,e.target.name,e.target.value),Object(Z.a)(t,"time_created",a.theTime()),Object(Z.a)(t,"task_id",j()()),t))})},a.onSubmit=function(e){e.preventDefault();var t=a.props.parentIndex;""==!a.state.task.task_short&&""==!a.state.task.task_full&&(a.props.addTask(a.state.task,t),a.setState({visible:!1})),a.setState({task:Object(o.a)({},a.state.task,{task_short:"",time_created:"",task_full:"",task_id:null})})},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"cancelClose",value:function(){this.setState({visible:!1})}},{key:"addZero",value:function(e){return e<10&&(e="0"+e),e}},{key:"render",value:function(){var e=C.a.TextArea,t=this.state,a=t.task;t.task_short;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{className:"w-btn add-task_btn",onClick:this.showModal},"Add task"),r.a.createElement(H.a,{footer:null,closable:!1,visible:this.state.visible},r.a.createElement("form",{onSubmit:this.onSubmit,className:"form"},r.a.createElement(C.a,{placeholder:"excerpt",name:"task_short",value:a.task_short,onChange:this.handleInput}),r.a.createElement(e,{placeholder:"complete...",name:"task_full",value:a.task_full,onChange:this.handleInput}),r.a.createElement(C.a,{type:"submit",value:"ok",style:{cursor:"pointer"}}),r.a.createElement(_.a,{className:"w-btn",onClick:this.cancelClose.bind(this),type:"danger"},"Cancel"))))}}]),t}(n.Component),z={addTask:function(e,t){return{type:"ADD_TASK",payload:{t:e,id:t}}}},P=Object(c.b)(null,z)(q),Q=function(e){function t(){return Object(p.a)(this,t),Object(b.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.tasks,a=e.parentID,n=e.parentName;return r.a.createElement(r.a.Fragment,null,r.a.createElement(V,{task:t,parentID:a,parentName:n}),r.a.createElement(P,{parentIndex:a}))}}]),t}(n.Component),R=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(b.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).handlerDelTable=function(e,t){t.preventDefault(),a.props.delTable(e)},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.ind,n=e.tasks;return r.a.createElement(E.a,{lg:8,md:8},r.a.createElement(w.a,{id:a,title:r.a.createElement(x,{name:t,ind:a}),extra:r.a.createElement("a",{onClick:this.handlerDelTable.bind(this,a),href:"#"},r.a.createElement(I.a,{type:"delete",theme:"outlined"})," ")},r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,{tasks:n,parentID:a,parentName:t}))))}}]),t}(n.Component),U={delTable:function(e){return console.log("del action ".concat(e)),{type:"DELL_TABLE",payload:e}}},W=Object(c.b)(null,U)(R),X=function(e){function t(){return Object(p.a)(this,t),Object(b.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.table.map(function(e,t){return r.a.createElement(W,{key:t,ind:e.id,name:e.tableName,tasks:e.tasks})});return r.a.createElement(r.a.Fragment,null,e)}}]),t}(n.Component),Y=Object(c.b)(function(e){return{table:e.table}})(X),$=function(e){function t(){return Object(p.a)(this,t),Object(b.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(v.a,{center:"lg",className:"App"},r.a.createElement(T,null),r.a.createElement(Y,null))}}]),t}(n.Component);var ee=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log(t)}}(),te=Object(i.c)(d,ee);te.subscribe(function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){console.log(a)}}(te.getState())}),s.a.render(r.a.createElement(c.a,{store:te},r.a.createElement($,null)),document.getElementById("app"))}},[[111,2,1]]]);
//# sourceMappingURL=main.76cab9ad.chunk.js.map